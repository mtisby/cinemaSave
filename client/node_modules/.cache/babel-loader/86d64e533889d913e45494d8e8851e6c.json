{"ast":null,"code":"import _slicedToArray from\"/Users/mart/Documents/code/cinemaSave/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Navigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),registered=_useState8[0],setRegister=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),id=_useState10[0],setID=_useState10[1];var handleSubmit=function handleSubmit(e){e.preventDefault();var user={username:username,email:email,password:password};fetch('https://enigmatic-sierra-36050.herokuapp.com/authentication/register/',{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(user)}).then(function(response){console.log('new user added');var req=response.json();return req;}).then(function(req){setID(req);}).then(function(req){setRegister(true);});};if(registered===true&&id!==\" \"){return/*#__PURE__*/_jsx(Navigate,{push:true,to:{pathname:\"/profile/\".concat(id)}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"register\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"welcome\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Register\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"username\",name:\"username\",required:true,onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",for:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"email\",id:\"email\",name:\"email\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",for:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"password\",id:\"password\",name:\"password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-success\",children:\"Register\"})]})]});}export default Register;","map":{"version":3,"sources":["/Users/mart/Documents/code/cinemaSave/client/src/pages/Register.jsx"],"names":["React","useEffect","useState","Navigate","Register","username","setUsername","email","setEmail","password","setPassword","registered","setRegister","id","setID","handleSubmit","e","preventDefault","user","fetch","method","headers","body","JSON","stringify","then","response","console","log","req","json","pathname","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Navigate } from 'react-router-dom';\n\nfunction Register() {\n    \n    const [username, setUsername] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [registered, setRegister] = useState(false);\n    const [id, setID] = useState('');\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const user = { username, email, password };\n\n        fetch('https://enigmatic-sierra-36050.herokuapp.com/authentication/register/', {\n            method: 'POST',\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify(user)\n        }).then((response) => {\n            console.log('new user added');\n            let req = response.json()\n            return req\n        }).then((req) => {\n            setID(req);\n        }).then((req) => {\n            setRegister(true);\n        })\n    }\n  \n    if (registered === true && id !== \" \")  {\n        return <Navigate push to={{\n            pathname: `/profile/${id}`\n          }}\n        />\n    }\n\n  return (\n    <div className=\"register\">\n        <div class=\"welcome\">\n            <h1>Register</h1> \n        </div>\n        <form onSubmit={handleSubmit}>\n            <div class=\"mb-3\">\n                <label class=\"form-label\">Username</label>\n                <input\n                      class=\"form-control\"\n                      type=\"text\"\n                      id=\"username\"\n                      name=\"username\"\n                      required\n                      onChange={(e) => setUsername(e.target.value)}\n                  />\n            </div>\n            <div class=\"mb-3\">\n                <label class=\"form-label\" for=\"email\">Email</label>\n                <input\n                      class=\"form-control\"\n                      type=\"email\"\n                      id=\"email\"\n                      name=\"email\"\n                      required\n                      onChange={(e) => setEmail(e.target.value)}\n                  />\n            </div>\n            <div class=\"mb-3\">\n                <label class=\"form-label\" for=\"password\">Password</label>\n                <input\n                      class=\"form-control\"\n                      type=\"password\"\n                      id=\"password\"\n                      name=\"password\"\n                      required\n                      onChange={(e) => setPassword(e.target.value)}\n                />\n            </div>\n            <button class=\"btn btn-success\">Register</button>\n        </form>\n    </div>\n  );\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}