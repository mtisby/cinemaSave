{"ast":null,"code":"var _jsxFileName = \"/Users/mart/Documents/code/cinemaSave/client/src/pages/Profile.jsx\",\n    _s = $RefreshSig$();\n\nimport { ReactSession } from 'react-client-session';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport movieFunctions from \"../api/index.js\";\nimport { BoardPopup } from '../components/BoardPopup.jsx';\nimport { BoardsProfile } from '../components/BoardsProfile';\nimport { Navbar } from '../components/Navbar.jsx'; // style sheets\n\nimport './profile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Profile() {\n  _s();\n\n  let userid = ReactSession.get(\"userid\");\n  const [pins, setPins] = useState([]);\n  const [boards, setBoards] = useState([]);\n  const [popupval, setPopupVal] = useState(Boolean);\n  useEffect(() => {\n    movieFunctions.getProfile(userid).then(response => {\n      console.log('promise fulfilled');\n      return response.data;\n    }).then(response => {\n      try {\n        setPins(response.pins);\n        setBoards(response.boards);\n      } catch (e) {\n        console.log(e);\n      }\n    });\n  }, []);\n\n  const handleShareButton = () => {\n    const userProfileLink = document.getElementById(\"userProfileLink\");\n    userProfileLink.select();\n    navigator.clipboard.writeText(userProfileLink.value);\n  };\n\n  const handleButtonClick = props => {\n    fetch('https://enigmatic-sierra-36050.herokuapp.com/authentication/profile/deletepin/', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(props)\n    }).then(response => {\n      response = response.json();\n      return response;\n    }).then(data => {\n      try {\n        setPins(data.pins);\n        setBoards(data.boards);\n      } catch (e) {\n        console.log(e);\n      }\n    });\n  };\n\n  const handleAddButton = () => {\n    setPopupVal(true);\n  };\n\n  const allPins = pins.slice(0).reverse().map(i => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movie-contianer-profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: i.poster,\n        alt: `${i.title} poster`,\n        className: \"poster\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movie-descrip\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: i.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: [\"imdb: \", i.imdbRating, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: [\"genre(s): \", i.genre, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"removeBtn\",\n        onClick: () => handleButtonClick({\n          'movieID': i._id,\n          'userID': userid\n        }),\n        children: \"remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile pgMargin\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"userProfileLink\",\n        value: window.location.href,\n        type: \"text\",\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"profile-img\",\n        src: \"https://res.cloudinary.com/dr0ofxgkz/image/upload/v1640501510/cinema-save/theater-img_w5f8yz.jpg\",\n        alt: \"profile-pic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"share\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: ReactSession.get(\"username\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: handleShareButton,\n          src: \"https://res.cloudinary.com/dr0ofxgkz/image/upload/v1640736464/cinema-save/logo/share_lre6s2.png\",\n          alt: \"share-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"boards-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Boards\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"addBtn\",\n            onClick: handleAddButton,\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(BoardsProfile, {\n        data: userid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(BoardPopup, {\n        value: popupval\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"all-pins-profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"all pins\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movies-contianer\",\n        children: allPins\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Profile, \"nhixc3/oxoPqEZck/Zi9ag65dMc=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/Users/mart/Documents/code/cinemaSave/client/src/pages/Profile.jsx"],"names":["ReactSession","React","useEffect","useState","Link","movieFunctions","BoardPopup","BoardsProfile","Navbar","Profile","userid","get","pins","setPins","boards","setBoards","popupval","setPopupVal","Boolean","getProfile","then","response","console","log","data","e","handleShareButton","userProfileLink","document","getElementById","select","navigator","clipboard","writeText","value","handleButtonClick","props","fetch","method","headers","body","JSON","stringify","json","handleAddButton","allPins","slice","reverse","map","i","poster","title","imdbRating","genre","_id","window","location","href"],"mappings":"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","sourcesContent":["import { ReactSession } from 'react-client-session';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport movieFunctions from \"../api/index.js\";\nimport { BoardPopup } from '../components/BoardPopup.jsx';\nimport { BoardsProfile } from '../components/BoardsProfile';\nimport { Navbar } from '../components/Navbar.jsx';\n\n// style sheets\nimport './profile.css';\n\nfunction Profile() {\n  let userid = ReactSession.get(\"userid\")\n  const [pins, setPins] = useState([]);\n  const [boards, setBoards] = useState([]);\n  const [popupval, setPopupVal] = useState(Boolean);\n\n  useEffect(() => {\n    movieFunctions\n      .getProfile(userid)\n      .then((response) => {\n        console.log('promise fulfilled')\n        return response.data\n      })\n      .then((response) => {\n        try {\n          setPins(response.pins)\n          setBoards(response.boards)\n        } catch (e) {\n          console.log(e)\n        }\n      })\n  }, []);\n\n  const handleShareButton = () => {\n    const userProfileLink = document.getElementById(\"userProfileLink\")\n    userProfileLink.select();\n    navigator.clipboard.writeText(userProfileLink.value);\n  }\n\n  const handleButtonClick = (props) => {\n    \n    fetch('https://enigmatic-sierra-36050.herokuapp.com/authentication/profile/deletepin/', {\n      method: 'POST',\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(props)\n    }).then((response) => {\n      response = response.json()\n      return response\n    }).then((data) => {\n      try {\n        setPins(data.pins)\n        setBoards(data.boards)\n      } catch (e) {\n        console.log(e)\n      }\n    })\n  }\n\n  const handleAddButton = () => {\n    setPopupVal(true)\n  }\n\n  const allPins = pins.slice(0).reverse().map((i) => {\n      return (\n        <div className='movie-contianer-profile'>\n          <img src={i.poster} alt={`${i.title} poster`} className='poster' />\n          <div className='movie-descrip'>\n            <h3>{i.title}</h3>\n            <h5>imdb: {i.imdbRating} </h5>\n            <h5>genre(s): {i.genre} </h5>\n          </div>\n          <br />\n          <button className='removeBtn' onClick={() => handleButtonClick({ 'movieID': i._id, 'userID': userid })}>remove</button>\n        </div>)\n  });\n\n    return (\n      <div className=\"profile pgMargin\">\n        <Navbar />\n        <div className='header'>\n          <input id=\"userProfileLink\" value={window.location.href} type=\"text\" hidden />\n          <img className='profile-img' src=\"https://res.cloudinary.com/dr0ofxgkz/image/upload/v1640501510/cinema-save/theater-img_w5f8yz.jpg\" alt=\"profile-pic\" />\n          <div className='share'>\n            <h1>{ReactSession.get(\"username\")}</h1>\n            <img onClick={handleShareButton} src=\"https://res.cloudinary.com/dr0ofxgkz/image/upload/v1640736464/cinema-save/logo/share_lre6s2.png\" alt=\"share-logo\" />\n          </div>\n        </div>\n        <div>\n          <div className='boards-header'>\n            <div>\n              <h3>Boards</h3>\n            </div>\n            <div><button className='addBtn' onClick={handleAddButton} >+</button></div>\n          </div>\n          <BoardsProfile data={ userid } />\n          <BoardPopup value={ popupval } />\n        </div>\n        <hr />\n        <div className='all-pins-profile'>\n          <h2>all pins</h2>\n          <div className='movies-contianer'>\n              {allPins}\n          </div>\n        </div>\n      </div>\n      );\n}\n  \nexport default Profile;\n  \n"]},"metadata":{},"sourceType":"module"}